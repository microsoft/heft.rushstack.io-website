<!doctype html>
<html lang="zh-cn" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-pages/plugins/storybook">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Storybook plugin | Heft</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://heft.rushstack.io/zh-cn/images/site/heft-ograph.jpg"><meta data-rh="true" name="twitter:image" content="https://heft.rushstack.io/zh-cn/images/site/heft-ograph.jpg"><meta data-rh="true" property="og:url" content="https://heft.rushstack.io/zh-cn/pages/plugins/storybook/"><meta data-rh="true" name="docusaurus_locale" content="zh-cn"><meta data-rh="true" name="docsearch:language" content="zh-cn"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Storybook plugin | Heft"><meta data-rh="true" name="description" content="|     |     |"><meta data-rh="true" property="og:description" content="|     |     |"><link data-rh="true" rel="icon" href="/zh-cn/images/site/favicon.ico"><link data-rh="true" rel="canonical" href="https://heft.rushstack.io/zh-cn/pages/plugins/storybook/"><link data-rh="true" rel="alternate" href="https://heft.rushstack.io/pages/plugins/storybook/" hreflang="en"><link data-rh="true" rel="alternate" href="https://heft.rushstack.io/zh-cn/pages/plugins/storybook/" hreflang="zh-cn"><link data-rh="true" rel="alternate" href="https://heft.rushstack.io/pages/plugins/storybook/" hreflang="x-default"><link rel="search" type="application/opensearchdescription+xml" title="Heft" href="/zh-cn/opensearch.xml">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic"><link rel="stylesheet" href="/zh-cn/assets/css/styles.fafe8dff.css">
<link rel="preload" href="/zh-cn/assets/js/runtime~main.e73ae273.js" as="script">
<link rel="preload" href="/zh-cn/assets/js/main.c9946486.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div class="suiteNavBar_rHPh"><div role="button" class="waffle_FRnN waffleInteraction_uHqh"><img src="/images/suitenav/rs-waffle.svg"></div><div class="waffleDivider_XicE"></div><a href="https://rushstack.io/" class="suiteNavItem_tL2w">Rush Stack</a><a href="https://rushstack.io/pages/shop/" class="suiteNavItem_tL2w">Shop</a><a href="https://rushstack.io/blog/" class="suiteNavItem_tL2w">Blog</a><a href="https://rushstack.io/community/events/" class="suiteNavItem_tL2w">Events</a></div><div role="region" aria-label="跳到主要内容"><a class="skipToContent_sQ89" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-cn/"><div class="navbar__logo"><img src="/zh-cn/images/site/heft-logo.svg" alt="Heft" class="themedImage_SmPy themedImage--light_jc2g"><img src="/zh-cn/images/site/heft-logo.svg" alt="Heft" class="themedImage_SmPy themedImage--dark_D6nB"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/zh-cn/">当前发布</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/zh-cn/pages/plugins/storybook/">当前发布</a></li><li><a class="dropdown__link" href="/zh-cn/0.50.0/">0.50.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_eEuM"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文（中国）</a><ul class="dropdown__menu"><li><a href="/pages/plugins/storybook/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh-cn/pages/plugins/storybook/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-cn">中文（中国）</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh-cn/pages/intro/getting_started/">文档</a><a class="navbar__item navbar__link" href="/zh-cn/pages/support/news/">新闻</a><a class="navbar__item navbar__link" href="/zh-cn/pages/support/contributing/">GitHub</a><a class="navbar__item navbar__link" href="/zh-cn/pages/support/help/">帮助</a><div class="searchBox_wgNs"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_A0IM docsWrapper_kGXj"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_lVE9" type="button"></button><div class="docPage_ulef"><aside class="theme-doc-sidebar-container docSidebarContainer_APyL"><div class="sidebarViewport_Ic2x"><div class="sidebar_IuMp"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_lHqR"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">介绍</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/">概览</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/intro/getting_started/">入门指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/intro/architecture/">Heft架构</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/intro/rig_packages/">使用rig包</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/intro/cli/">Heft命令行</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Heft 教程</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/tutorials/hello_world/">Hello world</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/tutorials/adding_tasks/">添加更多任务</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/tutorials/everyday_commands/">日常Heft命令</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/tutorials/heft_and_rush/">与Rush的接口</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">高级话题</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/advanced/heft-config-file/">@rushstack/heft-config-file</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Heft 插件</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/plugins/package_index/">(包索引)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/plugins/api-extractor/">API Extractor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/plugins/copy-files/">复制文件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/plugins/delete-files/">删除文件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/plugins/dev-cert/">Dev 证书</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/plugins/jest/">Jest</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/plugins/lint/">ESlint / TSLint</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/plugins/node-service/">Node.js 服务</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/plugins/run-script/">运行脚本</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/plugins/sass/">Sass</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/plugins/serverless-stack/">Serverless Stack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh-cn/pages/plugins/storybook/">Storybook</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/plugins/typescript/">TypeScript</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/plugins/webpack/">Webpack</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Heft 配置文件</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/configs/environment_vars/">环境变量</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/configs/api-extractor-task_json/">api-extractor-task.json</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/configs/heft_json/">heft.json</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/configs/node-service_json/">node-service.json</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/configs/rig_json/">rig.json</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/configs/sass_json/">sass.json</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/configs/typescript_json/">typescript.json</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/configs/other_files/">Other config files</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">支持</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/support/help/">帮助</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/support/news/">新功能</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/pages/support/contributing/">贡献</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_BzXK"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_wG_o"><div class="docItemContainer_jqGH"><article><div class="tocCollapsible_Vels theme-doc-toc-mobile tocMobile_PauL"><button type="button" class="clean-btn tocCollapsibleButton_PIvq">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Storybook plugin</h1></header><table><tbody><tr><td><strong>Plugin package:</strong></td><td><a href="https://github.com/microsoft/rushstack/blob/main/heft-plugins/heft-storybook-plugin" target="_blank" rel="noopener noreferrer">@rushstack/heft-storybook-plugin</a></td></tr><tr><td><strong>Plugin name:</strong></td><td><a href="https://github.com/microsoft/rushstack/blob/main/heft-plugins/heft-storybook-plugin/heft-plugin.json" target="_blank" rel="noopener noreferrer">storybook-plugin</a> implemented by <a href="https://github.com/microsoft/rushstack/blob/main/heft-plugins/heft-storybook-plugin/src/StorybookPlugin.ts" target="_blank" rel="noopener noreferrer">StorybookPlugin.ts</a></td></tr><tr><td><strong>Plugin config file:</strong></td><td>(none)</td></tr><tr><td><strong>heft.json options:</strong></td><td><a href="https://github.com/microsoft/rushstack/blob/main/heft-plugins/heft-storybook-plugin/src/StorybookPlugin.ts" target="_blank" rel="noopener noreferrer">IStorybookPluginOptions</a></td></tr></tbody></table><p>This is a Heft plugin for using the <a href="https://storybook.js.org/" target="_blank" rel="noopener noreferrer">Storybook</a> framework.</p><h2 class="anchor anchorWithStickyNavbar_abXo" id="when-to-use-it">When to use it<a href="#when-to-use-it" class="hash-link" aria-label="When to use it的直接链接" title="When to use it的直接链接">​</a></h2><p>If you&#x27;ve chosen Storybook as your approach for developing, testing, and documenting UI components.</p><blockquote><p><strong>Note:</strong> This plugin was originally developed for Storybook 6. If you&#x27;re trying to set it up with a newer
version, please see
<a href="https://rushstack.zulipchat.com/#narrow/stream/262522-heft/topic/Storybook.20v7/near/361429415" target="_blank" rel="noopener noreferrer">this Zulip thread</a>
for workarounds and ongoing work to improve the plugin.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_abXo" id="how-it-works">How it works<a href="#how-it-works" class="hash-link" aria-label="How it works的直接链接" title="How it works的直接链接">​</a></h2><p>The basic approach is for Heft to perform TypeScript compilation in the normal way, producing <code>lib/**/*.js</code> files
which become the inputs to the Storybook toolchain. The Heft plugin locates the Storybook startup module
(e.g. <code>@storybook/react</code>) and invokes the Storybook toolchain in-process. Since Storybook&#x27;s toolchain implements
its own Webpack dev server, when the <code>--storybook</code> parameter is provided, Heft&#x27;s own Webpack plugin will be
suppressed to avoid launching two dev servers.</p><h2 class="anchor anchorWithStickyNavbar_abXo" id="the-storykit-package">The &quot;storykit&quot; package<a href="#the-storykit-package" class="hash-link" aria-label="The &quot;storykit&quot; package的直接链接" title="The &quot;storykit&quot; package的直接链接">​</a></h2><p>The Storybook gallery is a full complex web application that gets built by the Storybook toolchain.
This toolchain brings along a lot of its own NPM dependencies, but since it&#x27;s also trying to compile
your project&#x27;s source code, it tries to discover and use your project&#x27;s <code>devDependencies</code> such as React,
Webpack, and associated loaders. In practice, it is fairly awkward to for a single <code>node_modules</code> folder to mix
together all of the dependencies of a professional toolchain like Heft with with all the dependencies of Storybook&#x27;s
toolchain and plugins.</p><p>To solve this problem, <code>storybook-plugin</code> introduces a model where you create a second NPM package
called <strong>storykit</strong>, whose <strong>package.json</strong> provides all the tooling dependencies for Storybook.
In this way, dependencies of the two toolchains are cleanly separated, and you can reuse your Storybook
setup easily across different app projects, similar to a rig.</p><p>Storybook&#x27;s browser API unfortunately isn&#x27;t separated into dedicated NPM packages, but instead is exported by
the Node.js toolchain packages such as <code>@storybook/react</code>. For an even cleaner separation, your storykit package
can simply reexport such APIs.</p><h2 class="anchor anchorWithStickyNavbar_abXo" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Configuration的直接链接" title="Configuration的直接链接">​</a></h2><p>The <!-- -->[heft-storybook-react-tutorial]<a href="https://github.com/microsoft/rushstack-samples/tree/main/heft/heft-storybook-react-tutorial" target="_blank" rel="noopener noreferrer">https://github.com/microsoft/rushstack-samples/tree/main/heft/heft-storybook-react-tutorial</a>)
sample folder illustrates a complete project setup.</p><h2 class="anchor anchorWithStickyNavbar_abXo" id="heftjson-plugin-options">heft.json plugin options<a href="#heftjson-plugin-options" class="hash-link" aria-label="heft.json plugin options的直接链接" title="heft.json plugin options的直接链接">​</a></h2><p>This commented template documents the available options for Heft&#x27;s <code>storybook-plugin</code>:</p><div class="language-ts codeBlockContainer_wfCu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_iwbS"><pre tabindex="0" class="prism-code language-ts codeBlock_P4EJ thin-scrollbar"><code class="codeBlockLines_armO"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// OPTIONS FOR storybook-plugin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string-property property" style="color:#36acaa">&quot;options&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * (REQUIRED) Specifies an NPM package that will provide the Storybook dependencies for the project.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   *</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * Storybook&#x27;s conventional approach is for your app project to have direct dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * on NPM packages such as `@storybook/react` and `@storybook/addon-essentials`.  These packages have</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * heavyweight dependencies such as Babel, Webpack, and the associated loaders and plugins needed to</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * build the Storybook app (which is bundled completely independently from Heft).  Naively adding these</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * dependencies to your app&#x27;s package.json muddies the waters of two radically different toolchains,</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * and is likely to lead to dependency conflicts, for example if Heft installs Webpack 5 but</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * `@storybook/react` installs Webpack 4.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   *</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * To solve this problem, `heft-storybook-plugin` introduces the concept of a separate</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * &quot;storykit package&quot;.  All of your Storybook NPM packages are moved to be dependencies of the</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * storykit.  Storybook&#x27;s browser API unfortunately isn&#x27;t separated into dedicated NPM packages,</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * but instead is exported by the Node.js toolchain packages such as `@storybook/react`.  For</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * an even cleaner separation the storykit package can simply reexport such APIs.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;storykitPackageName&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@my-corp/my-react-storykit&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * The module entry point that Heft serve mode should use to launch the Storybook toolchain.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * Typically it is the path loaded the `start-storybook` shell script.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   *</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * If you are using `@storybook/react`, then the startup path would be:</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   *</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * &quot;startupModulePath&quot;: &quot;@storybook/react/bin/index.js&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// &quot;startupModulePath&quot;: &quot;&quot;,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * The module entry point that Heft non-serve mode should use to launch the Storybook toolchain.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * Typically it is the path loaded the `build-storybook` shell script.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   *</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * If you are using `@storybook/react`, then the static build path would be:</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   *</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * &quot;staticBuildModulePath&quot;: &quot;@storybook/react/bin/build.js&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// &quot;staticBuildModulePath&quot;: &quot;&quot;,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * The customized output directory for a Storybook static build.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * If this setting is not specified, then the Storybook default output directory will be used.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// &quot;staticBuildOutputFolder&quot;: &quot;example/path&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_WJX8"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_A4mn" aria-hidden="true"><svg class="copyButtonIcon_zOh6" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_kaU6" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_abXo" id="cli-parameters">CLI parameters<a href="#cli-parameters" class="hash-link" aria-label="CLI parameters的直接链接" title="CLI parameters的直接链接">​</a></h2><p><a href="https://github.com/microsoft/rushstack/blob/main/heft-plugins/heft-storybook-plugin/heft-plugin.json" target="_blank" rel="noopener noreferrer">heft-storybook-plugin/heft-plugin.json</a> defines these parameters:</p><div class="codeBlockContainer_wfCu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_iwbS"><pre tabindex="0" class="prism-code language-text codeBlock_P4EJ thin-scrollbar"><code class="codeBlockLines_armO"><span class="token-line" style="color:#393A34"><span class="token plain">  --storybook</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        Used by the &quot;@rushstack/heft-storybook-plugin&quot; package to launch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        Storybook.</span><br></span></code></pre><div class="buttonGroup_WJX8"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_A4mn" aria-hidden="true"><svg class="copyButtonIcon_zOh6" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_kaU6" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/microsoft/rushstack-websites/tree/main/websites/heft.rushstack.io/docs/pages/plugins/storybook.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_DX5v" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_hn6L"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh-cn/pages/plugins/serverless-stack/"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Serverless Stack plugin</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh-cn/pages/plugins/typescript/"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">TypeScript plugin</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_JkeW thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#when-to-use-it" class="table-of-contents__link toc-highlight">When to use it</a></li><li><a href="#how-it-works" class="table-of-contents__link toc-highlight">How it works</a></li><li><a href="#the-storykit-package" class="table-of-contents__link toc-highlight">The &quot;storykit&quot; package</a></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a></li><li><a href="#heftjson-plugin-options" class="table-of-contents__link toc-highlight">heft.json plugin options</a></li><li><a href="#cli-parameters" class="table-of-contents__link toc-highlight">CLI parameters</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">© 2023 Microsoft</div></div></div></footer></div>
<script src="/zh-cn/assets/js/runtime~main.e73ae273.js"></script>
<script src="/zh-cn/assets/js/main.c9946486.js"></script>
</body>
</html>